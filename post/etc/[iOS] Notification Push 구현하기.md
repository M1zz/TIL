### 순서 

> 1. 푸쉬계졍 생성 (apple-membership)

> 2. 어플리케이션 제작

> 3. Push Notifications(푸쉬를 날려줄 도구)  



### 1. 푸쉬계졍 생성

참고 블로그 : https://faith-developer.tistory.com/153 



푸쉬를 위해서는 계정이 필요하다.

> a. 인증서 생성 

> b. App ID 생성 (Identifiers) 

> c. Push 인증서 등 록 (Certificates) 



a. 인증서 생성 

키체인 접근 >  인증서 지원 > 인증 기관에 인증서 요청 > 이메일주소입력 > 디스크에 저장 > CertificateSigningRequest.certSigningRequest 파일 저장

[![](https://1.bp.blogspot.com/-PXiFM7gCSKQ/Xl--JncRM_I/AAAAAAAAhDY/MjW6rNW64xoIvcbZKeN1wVIY3ZRSGdiTACLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.36.38.png)](https://1.bp.blogspot.com/-PXiFM7gCSKQ/Xl--JncRM_I/AAAAAAAAhDY/MjW6rNW64xoIvcbZKeN1wVIY3ZRSGdiTACLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.36.38.png)

[![](https://1.bp.blogspot.com/-8MzVE5ZEqzs/Xl--KZklLbI/AAAAAAAAhDc/Cgri2d72NlsF4vT6Q7B4-IxEblMH8VKqwCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.37.04.png)](https://1.bp.blogspot.com/-8MzVE5ZEqzs/Xl--KZklLbI/AAAAAAAAhDc/Cgri2d72NlsF4vT6Q7B4-IxEblMH8VKqwCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.37.04.png)

b. App ID 생성

identifiers > +버튼 > appId > bundleId 입력 > Push Notifications 선택 > Continue > Register

  

[](https://1.bp.blogspot.com/-oxt7w5lNqPI/Xl-_NhbZAgI/AAAAAAAAhEs/KK0wWU_lD5Iz_z1yNDkwkrfVg2jpRnsxACLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.46.02.png)[](https://1.bp.blogspot.com/-oxt7w5lNqPI/Xl-_NhbZAgI/AAAAAAAAhEs/KK0wWU_lD5Iz_z1yNDkwkrfVg2jpRnsxACLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.46.02.png)[](https://1.bp.blogspot.com/-oxt7w5lNqPI/Xl-_NhbZAgI/AAAAAAAAhEs/KK0wWU_lD5Iz_z1yNDkwkrfVg2jpRnsxACLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.46.02.png)[![](https://1.bp.blogspot.com/-r5Lg-uibUQI/Xl--mB52ARI/AAAAAAAAhEY/DiqxqPkAncocQtxmgw8ziZc7YHGK2BPHQCLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.43.22.png)](https://1.bp.blogspot.com/-r5Lg-uibUQI/Xl--mB52ARI/AAAAAAAAhEY/DiqxqPkAncocQtxmgw8ziZc7YHGK2BPHQCLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.43.22.png)

  

[![](https://1.bp.blogspot.com/-oxt7w5lNqPI/Xl-_NhbZAgI/AAAAAAAAhEs/i96AH1WQJU8sSe-yJuSbn7QElkZhhoB0QCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.46.02.png)](https://1.bp.blogspot.com/-oxt7w5lNqPI/Xl-_NhbZAgI/AAAAAAAAhEs/i96AH1WQJU8sSe-yJuSbn7QElkZhhoB0QCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.46.02.png)

  

[![](https://1.bp.blogspot.com/-JfbYDx7TJIw/Xl--KpQA99I/AAAAAAAAhEI/NC9sokS3BmAeA24VDDaddBAPYNzZ3LLXwCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.39.46.png)](https://1.bp.blogspot.com/-JfbYDx7TJIw/Xl--KpQA99I/AAAAAAAAhEI/NC9sokS3BmAeA24VDDaddBAPYNzZ3LLXwCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.39.46.png)

  

[![](https://1.bp.blogspot.com/-xIZ3euq5_G8/Xl--KaXb2gI/AAAAAAAAhDg/4DBaStnwZpotlkTMms0Zlrt5x6KfAn5JQCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.39.41.png)](https://1.bp.blogspot.com/-xIZ3euq5_G8/Xl--KaXb2gI/AAAAAAAAhDg/4DBaStnwZpotlkTMms0Zlrt5x6KfAn5JQCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.39.41.png)

  

c. Push 인증서 등록

identifiers > bundleId 선택 > Configure > Development SSL Certificate > Create Certificate > 

위에서 생성한 CertificateSigningRequest.certSigningRequest 파일 업로드 > Countinue > Download > aps_development.cer 다운로드

[![](https://1.bp.blogspot.com/-oCf2HVh9-O0/Xl_A_qHiyfI/AAAAAAAAhFM/__Se_dSpV7gCiOQnQ5rc2dL0-AzeRMgAACLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.52.44.png)](https://1.bp.blogspot.com/-oCf2HVh9-O0/Xl_A_qHiyfI/AAAAAAAAhFM/__Se_dSpV7gCiOQnQ5rc2dL0-AzeRMgAACLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.52.44.png)

[![](https://1.bp.blogspot.com/-bn-nMqf21jk/Xl--LZ9azII/AAAAAAAAhEI/jOBMDQqTDyQe36rQjCetv3ss3nEN1Iv6ACEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.40.38.png)](https://1.bp.blogspot.com/-bn-nMqf21jk/Xl--LZ9azII/AAAAAAAAhEI/jOBMDQqTDyQe36rQjCetv3ss3nEN1Iv6ACEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.40.38.png)

  

[![](https://1.bp.blogspot.com/-hODAcEdoAIA/Xl--MRwOWkI/AAAAAAAAhEo/N4lTZkdn8IEyZO_J9ojtszy2vrb8rklygCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.40.58.png)](https://1.bp.blogspot.com/-hODAcEdoAIA/Xl--MRwOWkI/AAAAAAAAhEo/N4lTZkdn8IEyZO_J9ojtszy2vrb8rklygCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.40.58.png)

  

[![](https://1.bp.blogspot.com/-wiiR-FYyZAo/Xl--Mm7VwZI/AAAAAAAAhEQ/Ng9l_3GcndsGpCDpR1l7yfR5gQuXF309wCEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.41.26.png)](https://1.bp.blogspot.com/-wiiR-FYyZAo/Xl--Mm7VwZI/AAAAAAAAhEQ/Ng9l_3GcndsGpCDpR1l7yfR5gQuXF309wCEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B2.41.26.png)

  

[![](https://1.bp.blogspot.com/-HSJ_ySpDpuE/Xl--Jv5rHZI/AAAAAAAAhEw/90GLPxLyjSw41uwrEkNH7cONPHMEDGazACEwYBhgL/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.03.55.png)](https://1.bp.blogspot.com/-HSJ_ySpDpuE/Xl--Jv5rHZI/AAAAAAAAhEw/90GLPxLyjSw41uwrEkNH7cONPHMEDGazACEwYBhgL/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-03%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B11.03.55.png)

  

[![](https://1.bp.blogspot.com/-nZJixUB0epQ/Xl_IrfWDcPI/AAAAAAAAhFk/rmFLgvkYmBI6FAeitX_P4KDUxdc7_DVMQCLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-05%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB%2B12.26.26.png)](https://1.bp.blogspot.com/-nZJixUB0epQ/Xl_IrfWDcPI/AAAAAAAAhFk/rmFLgvkYmBI6FAeitX_P4KDUxdc7_DVMQCLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-05%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB%2B12.26.26.png)

  

  

다운받은 aps_development.cer를 실행하면 키체인에 등록된다.

등록된 키 체인에서 push_cert.p12 파일로 내보내준다. 이 파일은 후에 메시지를 전송하는데 쓰인다.





### 2. 어플리케이션 제작

참고 블로그 : https://www.raywenderlich.com/8164-push-notifications-tutorial-getting-started 

소스코드 : https://koenig-media.raywenderlich.com/uploads/2018/12/Wendercast.zip



알림 또는 푸시 알림을 사용하기 위해 사용자에게 승인받는 과정을 넣어야 한다. 앱이 설치 후 최초 실행되었을 때 알림 승인 메시지창이 뜨도록 한다.

1. open AppDelegate.swift

2. import UserNotifications

3. application메소드에 코드 추가 (앱이 처음 실행될 때 호출되는 메소드)



사용자의 설정 값을 가져와서 선택에 따라 권한 설정



푸시 서버에 토큰을 등록했을 때

application didRegisterForRemoteNotificationsWithDeviceToken



푸시 서버에 등록을 못했을 때

application didFailToRegisterForRemoteNotificationsWithError



푸시 알림을 받았을때

application didReceiveRemoteNotification



토큰 값은 푸쉬 값을 보낼 때 필요하니 잘 적어놓자.

[![](https://1.bp.blogspot.com/-56lbHtCjk0I/Xl_JzWSPODI/AAAAAAAAhF4/JG9Z7Lq3hbggNV7ORu9Le0eFAjcfxykrQCLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-05%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB%2B12.31.06.png)](https://1.bp.blogspot.com/-56lbHtCjk0I/Xl_JzWSPODI/AAAAAAAAhF4/JG9Z7Lq3hbggNV7ORu9Le0eFAjcfxykrQCLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-05%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB%2B12.31.06.png)

### 3. PushNotifications 

[How to install](https://github.com/onmyway133/PushNotifications#how-to-install)

설치 후 Push Notifications를 실행해준다.

[![](https://1.bp.blogspot.com/-O4cowZ47lKc/Xl_JPEQvGvI/AAAAAAAAhFs/OHd3AzmH1PMWh3CRaU_5KoIIw1FwbDuTwCLcBGAsYHQ/s400/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B1.41.20.png)](https://1.bp.blogspot.com/-O4cowZ47lKc/Xl_JPEQvGvI/AAAAAAAAhFs/OHd3AzmH1PMWh3CRaU_5KoIIw1FwbDuTwCLcBGAsYHQ/s1600/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%2B2020-03-04%2B%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE%2B1.41.20.png)

  

위의 발급받은 aps_development.cer를 추출하여 push_cert.p12를 생성한다.


각 항목에 필요한 내용들을 채워 넣는다.

번들 ID는 프로젝트에서 확인하자.

토큰의 경우 아래 어플리케이션 콘솔에서 출력하게 되어있다.

body에 다음 값을 입력해준다

```

{

  "aps": {

    "alert": "Breaking News!",

    "sound": "default",

    "link_url": "https://raywenderlich.com"

  }

}

```
[![](https://1.bp.blogspot.com/-TafQIf-yGkI/Xl_JmK5uIQI/AAAAAAAAhF0/t1ic8jrxijs__0Ob6uJfMyq5I-fV2VgIgCLcBGAsYHQ/s400/%25E1%2584%258B%25E1%2585%25B5%25E1%2584%2592%25E1%2585%25A7%25E1%2586%25AB%25E1%2584%2592%25E1%2585%25A9_20200303_161415_1.png)](https://1.bp.blogspot.com/-TafQIf-yGkI/Xl_JmK5uIQI/AAAAAAAAhF0/t1ic8jrxijs__0Ob6uJfMyq5I-fV2VgIgCLcBGAsYHQ/s1600/%25E1%2584%258B%25E1%2585%25B5%25E1%2584%2592%25E1%2585%25A7%25E1%2586%25AB%25E1%2584%2592%25E1%2585%25A9_20200303_161415_1.png)
